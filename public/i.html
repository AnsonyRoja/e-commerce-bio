<!doctype html>
<html lang="es">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
    html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
	display: block;
}
body {
	line-height: 1;
}
ol, ul {
	list-style: none;
}
blockquote, q {
	quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: '';
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}
</style>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
    rel="stylesheet">
    <script src="js/gzip-min.js"></script>
    <title>Biomercados</title>


<style>
    .gris{
        background-color: #E9ECEF;
    }
    .inp{
        border:none;
        border-left: 1px solid #E9ECEF;border-top: 1px solid #E9ECEF;border-bottom: 1px solid #E9ECEF       
    }
    .redondo{
        -webkit-border-radius: 20px;
-moz-border-radius: 20px;
border-radius: 20px;
    }
    .btn_se{
       
        padding:4px 6px 0px 6px; border-left: 0px; border-right: 1px solid #E9ECEF;border-top: 1px solid #E9ECEF;border-bottom: 1px solid #E9ECEF;
    }

textarea:hover, 
input:hover, 
textarea:active, 
input:active, 
textarea:focus, 
input:focus,
button:focus,
button:active,
button:hover,
label:focus,
.btn:active,
.btn.active
{
    border: 1px solid #E9ECEF !important;
    outline:0px !important;
    -webkit-appearance:none;
    box-shadow: none !important;
}
.verde{
    color:#69BE7B;
}
</style>

  </head>
  <body>
      <div class="row" style="margin:20px">
        <div class="col-md-2">
            <img width="100px" src="/img/logo_bio.png">
        </div>
        <div class="col  mt-3" style="padding-top:5px">
            <div class="input-group mb-3 redondo">
                <input type="text" class="form-control gris redondo inp" placeholder="Buscar" aria-label="Recipient's username" aria-describedby="button-addon2">
                <div class="input-group-append redondo">
                  <button class="btn btn-outline-secondary redondo btn_se gris" type="button" id="button-addon2" ><span class="material-icons" >search</span></button>
                </div>
              </div>

            
        </div>
       
        <div class="col-md-3 mt-3 my-auto">
           
               <div class="row">
                   <div class="col my-auto verde" style="padding-right: 0px;">Entrar/Registrarse</div>
                   <div class="col" style="padding-right: 0px;"><img src="/img/entrar.png" height="40" alt="Login"></div>
                   <div class="col" style="text-align: left"><img src="/img/carrito.png" height="40" alt="Carrito"></div>
                   <div class="col" style="padding-right: 0px;"><img src="/img/favorito.png" height="40" alt="Favoritos"></div>

               </div>                 
                
             
        </div>
      </div>


      <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner" id="imagenesCarrousel">

        </div>
        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Atras</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Siguiente</span>
        </a>
      </div>

<script>
               function get(evento,variables="") {
                   //alert(variables);
                    //alert(url);
                    var host=window.location.host;
                    var protocol=window.location.protocol;
                    var xmlhttp = new XMLHttpRequest();
                    let data=new Map();
                    data['success']=false;
                    data['msj_general']="Intente mas tarde";
                    xmlhttp.onreadystatechange = function() {
                        if (xmlhttp.readyState == XMLHttpRequest.DONE) {   // XMLHttpRequest.DONE == 4
                           if (xmlhttp.status == 200 || xmlhttp.status == 409) {
                              
                              procesar(xmlhttp.responseText,evento);
                           
                           }else {
                            procesar(data,evento);
                           }
                        }
                    };
                   
                    xmlhttp.open("GET", protocol+"//"+host+"/api_rapida.php?evento="+evento+variables, true);
                     xmlhttp.send();
                }




    //'use strict';

//var pako = window.pako;

function lzw_decode(s) {
    var dict = {};
    var data = (s + "").split("");
    var currChar = data[0];
    var oldPhrase = currChar;
    var out = [currChar];
    var code = 256;
    var phrase;
    for (var i=1; i<data.length; i++) {
        var currCode = data[i].charCodeAt(0);
        if (currCode < 256) {
            phrase = data[i];
        }
        else {
           phrase = dict[currCode] ? dict[currCode] : (oldPhrase + currChar);
        }
        out.push(phrase);
        currChar = phrase.charAt(0);
        dict[code] = oldPhrase + currChar;
        code++;
        oldPhrase = phrase;
    }
    return out.join("");
}


get("web_no_login");
function procesar(data,evento){
    switch(evento){
        case 'listarPublicidad':
        listarPublicidad();
    //    console.log(JSON.stringify(data));
   // console.log(data);
        break;
        case 'web_no_login':
        //alert(2);
          // console.log(JSON.stringify(data));
          //var data     = new Uint8Array(data);
          //var data     = unescape(encodeURIComponent(data));
          //var data        = pako.deflate(data);
         // var data  = pako.deflate(data, { to: 'string' });
          //var data  = decompress(data);
        //  var data     = String.fromCharCode.apply(null, new Uint16Array(data));
        var a=lzw_decode(data);
            console.log(a);
        break;
    }
}

function listarPublicidad(data){
    ht='';
        var carrousel=document.getElementById("imagenesCarrousel");
        var tipo='active';
        data['data'].forEach(element => {
            ht+='<div class="carousel-item '+tipo+'"><img height="360px" class="d-block w-100" src="storage/'+element.image+'" alt="First slide"></div>';
            tipo=''
        });
        carrousel.innerHTML=ht;
}
</script>







    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    
    <script type="text/javascript">


                </script>
  </body>
</html>